<form
  nz-form
  [formGroup]="roleForm"
  (ngSubmit)="submit()"
  nzLayout="horizontal"
>
  <nz-form-item>
    <nz-form-label [nzRequired]="true" [nzSpan]="6" nzFor="name"
      >Role Name</nz-form-label
    >
    <nz-form-control
      [nzSpan]="10"
      [nzValidateStatus]="roleForm.controls['name']"
      [nzErrorTip]="
        roleForm.controls['name'].hasError('required')
          ? 'Role name is required'
          : roleForm.controls['name'].hasError('nonUnique')
            ? 'Role name must be unique'
            : ''
      "
    >
      <input nz-input formControlName="name" id="name" autocomplete="off" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzFor="description" [nzSpan]="6">Description</nz-form-label>
    <nz-form-control [nzSpan]="15">
      <input nz-input formControlName="description" id="description" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzFor="permissions" [nzSpan]="6">Permissions</nz-form-label>
    <nz-form-control [nzSpan]="10">
      <nz-select
        formControlName="permissionIds"
        nzMode="multiple"
        nzPlaceHolder="Select permissions"
        [nzOptions]="permissionOptions"
        [nzOptionHeightPx]="32"
        [nzMaxTagCount]="3"
        [nzMaxTagPlaceholder]="tagPlaceholderTpl"
      >
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <ng-template #tagPlaceholderTpl let-selectedList>
    +{{ selectedList.length }} more
  </ng-template>

  <div class="modal-footer" style="text-align: right; margin-top: 24px">
    <button
      nz-button
      (click)="cancel()"
      type="button"
      style="margin-right: 8px"
    >
      Cancel
    </button>
    <button
      nz-button
      nzType="primary"
      [disabled]="roleForm.invalid"
      [nzLoading]="false"
      type="submit"
    >
      Save
    </button>
  </div>
</form>
